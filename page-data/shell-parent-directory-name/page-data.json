{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/shell-parent-directory-name","result":{"data":{"site":{"siteMetadata":{"title":"あのぞんブログ","author":"anozon","siteUrl":"https://blog.anozon.me"}},"markdownRemark":{"id":"0515296b-0ced-59a5-a018-0e612c3fcae4","excerpt":"1 つ上のディレクトリ path をとる 現在のディレクトリ path をとる 2 ディレクトリをとる 補足 おまけ: alias 化 1 つ上のディレクトリ path をとる 現在のディレクトリ path をとる 2 ディレクトリをとる 補足  という部分は文字列置換が働いてます。 参考: bash…","html":"<div class=\"toc\">\n<ul>\n<li><a href=\"#1-%E3%81%A4%E4%B8%8A%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA-path-%E3%82%92%E3%81%A8%E3%82%8B\">1 つ上のディレクトリ path をとる</a></li>\n<li><a href=\"#%E7%8F%BE%E5%9C%A8%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA-path-%E3%82%92%E3%81%A8%E3%82%8B\">現在のディレクトリ path をとる</a></li>\n<li><a href=\"#2-%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%82%92%E3%81%A8%E3%82%8B\">2 ディレクトリをとる</a></li>\n<li><a href=\"#%E8%A3%9C%E8%B6%B3\">補足</a></li>\n<li><a href=\"#%E3%81%8A%E3%81%BE%E3%81%91-alias-%E5%8C%96\">おまけ: alias 化</a></li>\n</ul>\n</div>\n<h2 id=\"1-つ上のディレクトリ-path-をとる\">1 つ上のディレクトリ path をとる</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">~/.ghq/github.com/elzup/anozonbiyori\n$ <span class=\"token function\">basename</span> <span class=\"token variable\">${<span class=\"token environment constant\">PWD</span><span class=\"token operator\">%</span><span class=\"token operator\">/</span>*}</span>\nelzup</code></pre></div>\n<h2 id=\"現在のディレクトリ-path-をとる\">現在のディレクトリ path をとる</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">~/.ghq/github.com/elzup/anozonbiyori\n$ <span class=\"token function\">basename</span> <span class=\"token environment constant\">$PWD</span>\nanozonbiyori</code></pre></div>\n<h2 id=\"2-ディレクトリをとる\">2 ディレクトリをとる</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$\n~/.ghq/github.com/elzup/anozonbiyori\n<span class=\"token builtin class-name\">echo</span> <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">basename</span> $<span class=\"token punctuation\">{</span><span class=\"token environment constant\">PWD</span>%/*<span class=\"token punctuation\">}</span><span class=\"token variable\">`</span></span>/<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">basename</span> <span class=\"token environment constant\">$PWD</span><span class=\"token variable\">`</span></span>\nelzup/anozonbiyori</code></pre></div>\n<h2 id=\"補足\">補足</h2>\n<p><code class=\"language-text\">${PWD%/*}</code> という部分は文字列置換が働いてます。</p>\n<p>参考: <a href=\"https://qiita.com/aosho235/items/c36568830a8d47288284\">bash の変数内文字列置換まとめ - Qiita</a></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">pwd</span>\n/Users/hiro/.ghq/github.com/elzup/anozonbiyori\n\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${<span class=\"token environment constant\">PWD</span><span class=\"token operator\">%</span><span class=\"token operator\">/</span>*}</span> <span class=\"token comment\"># 末尾から/までの非貪欲マッチ部分を削除</span>\n/Users/hiro/.ghq/github.com/elzup\n\n$ <span class=\"token function\">basename</span> <span class=\"token variable\">${<span class=\"token environment constant\">PWD</span><span class=\"token operator\">%</span><span class=\"token operator\">/</span>*}</span>\nelzup\n\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token variable\">${${<span class=\"token environment constant\">PWD</span><span class=\"token operator\">%</span><span class=\"token operator\">/</span>*}</span><span class=\"token comment\">##*/}</span>\nelzup</code></pre></div>\n<h2 id=\"おまけ-alias-化\">おまけ: alias 化</h2>\n<p>推奨はしないよ！</p>\n\n        <div class=\"gatsby-code-title\">\n          <span>.zshrc</span>\n        </div>\n       \n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">alias</span> basename-current<span class=\"token operator\">=</span><span class=\"token string\">'basename <span class=\"token variable\">${<span class=\"token environment constant\">PWD</span>}</span>'</span>\n<span class=\"token builtin class-name\">alias</span> basename-parent<span class=\"token operator\">=</span><span class=\"token string\">'echo <span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">basename</span> $<span class=\"token punctuation\">{</span><span class=\"token environment constant\">PWD</span>%/*<span class=\"token punctuation\">}</span><span class=\"token variable\">`</span></span>/<span class=\"token variable\"><span class=\"token variable\">`</span><span class=\"token function\">basename</span> <span class=\"token environment constant\">$PWD</span><span class=\"token variable\">`</span></span>'</span>\n<span class=\"token builtin class-name\">alias</span> <span class=\"token assign-left variable\">reponame</span><span class=\"token operator\">=</span>basename-parent</code></pre></div>","frontmatter":{"title":"1つ上のディレクトリ名をとるShellコマンド","date":"2020-05-27","tags":["ShellScript"]}}},"pageContext":{"slug":"shell-parent-directory-name","previous":{"excerpt":"複数のアプリを同じ  で開発すると切り替えるたびにキャッシュが競合するので  で変える案です。 /etc/hosts フロントエンド開発起動スクリプト例 /etc/hosts フロントエンド開発起動スクリプト例 CRA (Create React App) や Next.js…","fields":{"slug":"localhost-apphost-dev"},"frontmatter":{"title":"localhost.{appname}:3000 で開発してブラウザキャッシュを活用する案"}},"next":{"excerpt":"docker-compose.yml java 実行環境を立ち上げる例。 立ち上げた環境にシェルでアクセスする例。 Docker コマンドの場合 tty:  オプション","fields":{"slug":"docker-tty"},"frontmatter":{"title":"Docker 止めずに立ち上げるだけする【tty】"}}}},"staticQueryHashes":["1855083372","3070792728","4156694545"]}