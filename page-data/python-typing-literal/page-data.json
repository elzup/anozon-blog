{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/python-typing-literal","result":{"data":{"site":{"siteMetadata":{"title":"あのぞんブログ","author":"anozon","siteUrl":"https://blog.anozon.me"}},"markdownRemark":{"id":"6e74c975-0f79-5c7e-a648-903d25ea814b","excerpt":"TypeScript の UnionType は以下のように定義できます。 Python の type でも同じようなことができるのか調べました。\nちなみに  というのがありますが別です。 typeing.Literal を使う ちなみに get_args…","html":"<p>TypeScript の UnionType は以下のように定義できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Color</span> <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span> <span class=\"token operator\">|</span> <span class=\"token string\">'green'</span></code></pre></div>\n<p>Python の type でも同じようなことができるのか調べました。\nちなみに <code class=\"language-text\">typeing.Union</code> というのがありますが別です。</p>\n<h2 id=\"typeingliteral-を使う\">typeing.Literal を使う</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> typing <span class=\"token keyword\">import</span> Literal<span class=\"token punctuation\">,</span> get_args\n\nCOLOR <span class=\"token operator\">=</span> Literal<span class=\"token punctuation\">[</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'green'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">]</span>\nSIZE <span class=\"token operator\">=</span> Literal<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">## assign</span>\ncolor<span class=\"token punctuation\">:</span> COLOR <span class=\"token operator\">=</span> <span class=\"token string\">'red'</span>\n\n<span class=\"token comment\">## argument</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">func</span><span class=\"token punctuation\">(</span>color<span class=\"token punctuation\">:</span> COLOR<span class=\"token punctuation\">,</span> size<span class=\"token punctuation\">:</span> SIZE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">pass</span>\n\nfunc<span class=\"token punctuation\">(</span><span class=\"token string\">'yellow'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># error</span>\n<span class=\"token comment\"># Argument of type \"Literal['yellow']\" cannot be assigned to parameter \"color\" of type \"COLOR\" in function \"func\"</span>\n\nfunc<span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># ok</span></code></pre></div>\n<p>ちなみに get_args を使うとタプルで取得できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">get_args(SIZE)\n# =&gt; (1, 2, 4, 8, 12)</code></pre></div>\n<h2 id=\"よくわかってない部分\">よくわかってない部分</h2>\n<h3 id=\"補完ができない\">補完ができない</h3>\n<p>string について補完できる環境が作れるのかはわかりません。</p>\n<p>環境 VSCode\nplugin: <code class=\"language-text\">Python</code>, <code class=\"language-text\">Python Type Hint</code>, <code class=\"language-text\">Pyright</code></p>\n<h3 id=\"計算して渡せない\">計算して渡せない</h3>\n<div class=\"gatsby-highlight\" data-language=\"py\"><pre class=\"language-py\"><code class=\"language-py\">func<span class=\"token punctuation\">(</span><span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>上のように書くと <code class=\"language-text\">4 * 2</code> でエラーが出てしまいます。</p>","frontmatter":{"title":"Python で TypeScript の UnionType を使う","date":"2020-08-24","tags":["Python","TypeScript"]}}},"pageContext":{"slug":"python-typing-literal","previous":{"excerpt":"スプレッド構文で書くのが面倒だったので検証しました。 結果 結論としてはクローンが書きやすいし速いので良さそうでした。  コスト 書きやすさ スプレッド構文 221 ms △ スプレッド構文でクローンして代入 195 ms ○ Object.assign…","fields":{"slug":"javascript-object-update"},"frontmatter":{"title":"JavaScript で Object の更新はどれが速いのか"}},"next":{"excerpt":"配列の中で条件に該当する１つ目を取り出す関数。\nなければ None を返す。","fields":{"slug":"python-find-arr-func"},"frontmatter":{"title":"Python で Array.find"}}}},"staticQueryHashes":["1855083372","2529228376","3070792728"]}