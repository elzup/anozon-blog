{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/firebase-messaging-by-function","result":{"data":{"site":{"siteMetadata":{"title":"あのぞんブログ","author":"anozon","siteUrl":"https://blog.anozon.me"}},"markdownRemark":{"id":"7b5ee914-487b-5d96-ae8d-771e21ba2142","excerpt":"Firebase Function から Cloud Messaging (FCM HTTP v1 API) を使って通知を送る方法のメモです。  の初期化設定する アプリサーバーからの送信リクエストを作成する  |  Firebase (公式ドキュメント) 「 が必要なの？」とか「 ADC…","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Firebase Function から Cloud Messaging (FCM HTTP v1 API) を使って通知を送る方法のメモです。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"firebase-admin-の初期化設定する"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"firebase-admin"}]},{"type":"text","value":" の初期化設定する"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://firebase.google.com/docs/cloud-messaging/send-message?hl=ja"},"children":[{"type":"text","value":"アプリサーバーからの送信リクエストを作成する  |  Firebase"}]},{"type":"text","value":" (公式ドキュメント)"}]},{"type":"text","value":"\n"},{"type":"comment","value":" textlint-disable ja-technical-writing/sentence-length  "},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"「"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GOOGLE_APPLICATION_CREDENTIALS"}]},{"type":"text","value":" が必要なの？」とか「 ADC はどうやって承認するの？」とか「Authorization ヘッダにどの Token をセットするの？」とか少しややこしかった。"}]},{"type":"text","value":"\n"},{"type":"comment","value":" textlint-enable ja-technical-writing/sentence-length "},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"結論から言うと "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Firebase Function にデプロイする場合は何も考えなくていい"}]},{"type":"text","value":"。\n以下のコードで暗黙的に検出される。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"javascript"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-javascript"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-javascript"]},"children":[{"type":"text","value":"admin"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"initializeApp"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  credential"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" admin"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"credential"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"applicationDefault"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"functionsindexjs-のコード例"},"children":[{"type":"text","value":"functions/index.js のコード例"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"element","tagName":"div","properties":{"id":"gist100450553","className":["gist"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"div","properties":{"className":["gist-file"],"translate":"no"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"div","properties":{"className":["gist-data"]},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"div","properties":{"className":["js-gist-file-update-container","js-task-list-container","file-box"]},"children":[{"type":"text","value":"\n  "},{"type":"element","tagName":"div","properties":{"id":"file-functions_index-js","className":["file","my-2"]},"children":[{"type":"text","value":"\n    \n  "},{"type":"element","tagName":"div","properties":{"itemProp":["text"],"className":["Box-body","p-0","blob-wrapper","data","type-javascript"]},"children":[{"type":"text","value":"\n\n      \n"},{"type":"element","tagName":"div","properties":{"className":["js-check-bidi","blob-code-content"]},"children":[{"type":"text","value":"\n  "},{"type":"element","tagName":"div","properties":{"hidden":true,"dataViewComponent":"true","className":["js-bidi-alert","flash","flash-warn","flash-full"]},"children":[{"type":"text","value":"\n  "},{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","viewBox":"0 0 16 16","version":"1.1","width":"16","dataViewComponent":"true","className":["octicon","octicon-alert"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"},"children":[]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. "},{"type":"element","tagName":"a","properties":{"href":"https://github.co/hiddenchars","target":"_blank"},"children":[{"type":"text","value":"Learn more about bidirectional Unicode characters"}]},{"type":"text","value":"\n\n\n  \n"}]},{"type":"element","tagName":"template","properties":{"className":["js-line-alert-template"]},"children":[],"content":{"type":"root","children":[{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"ariaLabel":"This line has hidden Unicode characters","dataViewComponent":"true","className":["bidi-line-alert","tooltipped","tooltipped-e"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","viewBox":"0 0 16 16","version":"1.1","width":"16","dataViewComponent":"true","className":["octicon","octicon-alert"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"},"children":[]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]}],"data":{"quirksMode":false}}},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"table","properties":{"className":["highlight","tab-size","js-file-line-container"],"dataTabSize":"8","dataPasteMarkdownSkip":""},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"tbody","properties":{},"children":[{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L1","className":["blob-num","js-line-number"],"dataLineNumber":"1"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC1","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"as"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"functions"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s"]},"children":[{"type":"text","value":"'firebase-functions'"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L2","className":["blob-num","js-line-number"],"dataLineNumber":"2"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC2","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"as"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"admin"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"from"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s"]},"children":[{"type":"text","value":"'firebase-admin'"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L3","className":["blob-num","js-line-number"],"dataLineNumber":"3"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC3","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"\n"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L4","className":["blob-num","js-line-number"],"dataLineNumber":"4"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC4","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"admin"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-en"]},"children":[{"type":"text","value":"initializeApp"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"{"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L5","className":["blob-num","js-line-number"],"dataLineNumber":"5"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC5","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"credential"}]},{"type":"text","value":": "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"admin"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"credential"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-en"]},"children":[{"type":"text","value":"applicationDefault"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L6","className":["blob-num","js-line-number"],"dataLineNumber":"6"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC6","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["pl-c"]},"children":[{"type":"text","value":"// databaseURL: 'https://hoge.firebaseio.com/',"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L7","className":["blob-num","js-line-number"],"dataLineNumber":"7"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC7","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L8","className":["blob-num","js-line-number"],"dataLineNumber":"8"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC8","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"\n"}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L9","className":["blob-num","js-line-number"],"dataLineNumber":"9"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC9","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"export"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"api"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"functions"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"https"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-en"]},"children":[{"type":"text","value":"onRequest"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"req"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"res"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"{"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L10","className":["blob-num","js-line-number"],"dataLineNumber":"10"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC10","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"message"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"{"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L11","className":["blob-num","js-line-number"],"dataLineNumber":"11"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC11","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"topic"}]},{"type":"text","value":": "},{"type":"element","tagName":"span","properties":{"className":["pl-s"]},"children":[{"type":"text","value":"'TOPIC_NAME'"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L12","className":["blob-num","js-line-number"],"dataLineNumber":"12"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC12","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"notification"}]},{"type":"text","value":": "},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"{"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L13","className":["blob-num","js-line-number"],"dataLineNumber":"13"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC13","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"      "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"title"}]},{"type":"text","value":": "},{"type":"element","tagName":"span","properties":{"className":["pl-s"]},"children":[{"type":"text","value":"'通知デモです'"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L14","className":["blob-num","js-line-number"],"dataLineNumber":"14"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC14","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"      "},{"type":"element","tagName":"span","properties":{"className":["pl-c1"]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":": "},{"type":"element","tagName":"span","properties":{"className":["pl-s"]},"children":[{"type":"text","value":"`サーバーは"},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"${"}]},{"type":"element","tagName":"span","properties":{"className":["pl-k"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["pl-v"]},"children":[{"type":"text","value":"Date"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-en"]},"children":[{"type":"text","value":"getHours"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"}"}]}]},{"type":"text","value":"時です。`"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L15","className":["blob-num","js-line-number"],"dataLineNumber":"15"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC15","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":","}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L16","className":["blob-num","js-line-number"],"dataLineNumber":"16"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC16","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"    "},{"type":"element","tagName":"span","properties":{"className":["pl-c"]},"children":[{"type":"text","value":"// priority: 'high',"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L17","className":["blob-num","js-line-number"],"dataLineNumber":"17"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC17","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"}"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L18","className":["blob-num","js-line-number"],"dataLineNumber":"18"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC18","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"text","value":"  "},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"admin"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-en"]},"children":[{"type":"text","value":"messaging"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["pl-en"]},"children":[{"type":"text","value":"send"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["pl-s1"]},"children":[{"type":"text","value":"message"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"tr","properties":{},"children":[{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-L19","className":["blob-num","js-line-number"],"dataLineNumber":"19"},"children":[]},{"type":"text","value":"\n          "},{"type":"element","tagName":"td","properties":{"id":"file-functions_index-js-LC19","className":["blob-code","blob-code-inner","js-file-line"]},"children":[{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["pl-kos"]},"children":[{"type":"text","value":")"}]}]},{"type":"text","value":"\n        "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n\n  "}]},{"type":"text","value":"\n\n  "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n\n      "}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"div","properties":{"className":["gist-meta"]},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"a","properties":{"href":"https://gist.github.com/elzup/66d33599362f232dfeb6f6c802718679/raw/c1f9271f17ca1e8c2786c86773285767a9f09a5c/functions_index.js","style":"float:right"},"children":[{"type":"text","value":"view raw"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"a","properties":{"href":"https://gist.github.com/elzup/66d33599362f232dfeb6f6c802718679#file-functions_index-js"},"children":[{"type":"text","value":"\n          functions_index.js\n        "}]},{"type":"text","value":"\n        hosted with ❤ by "},{"type":"element","tagName":"a","properties":{"href":"https://github.com"},"children":[{"type":"text","value":"GitHub"}]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"firestore などを使う場合は "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"databaseURL"}]},{"type":"text","value":" オプションを設定する。"}]}],"data":{"quirksMode":false}},"frontmatter":{"title":"Firebase Function 内から Cloud Messaging で通知を投げる最小コード","date":"2020-01-08","topics":["Firebase","CloudMessaging","GCP"]}}},"pageContext":{"slug":"firebase-messaging-by-function","previous":{"excerpt":"この記事では GatsbyJS で作っているブログのコードブロックをカスタマイズします。\n現状 Plain Text なので Syntax Hilight と style 調整をします。 手順 1. prismjs のプラグインを追加 gatsby-remark-prismjs…","fields":{"slug":"gatsby-codebrock"},"frontmatter":{"title":"GatsbyJSでコードブロックを作成する"}},"next":{"excerpt":"GatsbyJS で書いているこのブログを Typescript 移行しました。 主に以下の記事を参考に移行しました。なので今回は Type づけに焦点を当てて書きます。 Gatsby.js を完全 TypeScript 化する - Qiita GraphQL Data…","fields":{"slug":"gatsby-to-typescript"},"frontmatter":{"title":"GatsbyJS を Typescript に移行した際の Type 付け"}}}},"staticQueryHashes":["2529228376","3857661231","733094525"]}