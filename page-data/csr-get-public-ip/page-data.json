{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/csr-get-public-ip","result":{"data":{"site":{"siteMetadata":{"title":"あのぞんブログ","author":"anozon","siteUrl":"https://blog.anozon.me"}},"markdownRemark":{"id":"c916ac68-7b5c-5201-97e5-9159a7c2430f","excerpt":"CSR (Client side rendering) でユーザの public ip を取得する方法です。 ipify を使う ipify - A Simple Public IP Address API React hooks の例 Code: tools/global-ip.tsx at master…","html":"<p>CSR (Client side rendering) でユーザの public ip を取得する方法です。</p>\n<h2 id=\"ipify-を使う\">ipify を使う</h2>\n<p><a href=\"https://www.ipify.org/\">ipify - A Simple Public IP Address API</a></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token constant\">API_URL</span> <span class=\"token operator\">=</span> <span class=\"token string\">'https://api.ipify.org/?format=json'</span>\n<span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token constant\">API_URL</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>ip<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"react-hooks-の例\">React hooks の例</h2>\n<p>Code: <a href=\"https://github.com/elzup/tools/blob/master/src/pages/global-ip.tsx\">tools/global-ip.tsx at master · elzup/tools</a></p>\n<p>Demo: <a href=\"https://tools.anozon.me/global-ip\">public IP 取得</a></p>","frontmatter":{"title":"ブラウザ javascript 側で global ip を取得する","date":"2021-07-06","tags":["JavaScript","Networking","React"]}}},"pageContext":{"slug":"csr-get-public-ip","previous":{"excerpt":"家のネットワーク上でだけ実行したいスクリプトがあったので、接続しているかチェックするコードを書きました。 network (npm) を使う 現在のネットワークを記録 比較する ファイルにストアする例 Home 設定 チェック 全体のコード network (npm…","fields":{"slug":"is-myhome-network"},"frontmatter":{"title":"Node.js で家のネットワークかどうかチェックする"}},"next":{"excerpt":"同じ div に  と  の両方を使いたいとがあった。 しかしどちらも ref を渡さなければいけなかったのでその方法です。 Share ref with multiple ref handlers · Issue #13029 · facebook/react…","fields":{"slug":"react-multiple-ref-to-one-component"},"frontmatter":{"title":"React で複数の ref を 1つのコンポーネントにセットする"}}}},"staticQueryHashes":["1855083372","2529228376","3070792728"]}