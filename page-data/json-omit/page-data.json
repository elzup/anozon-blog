{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/json-omit","result":{"data":{"site":{"siteMetadata":{"title":"あのぞんブログ","author":"anozon","siteUrl":"https://blog.anozon.me"}},"markdownRemark":{"id":"abcb76e8-c482-57ca-a5ab-1357f75a16cd","excerpt":"コマンドを使って json 内部特定のフィールドを操作します。 抽出(pick)・削除(omit) ファイル入出力 配列の各要素を操作  で行えます。 抽出(pick)・削除(omit) ファイル入出力 配列の各要素を操作","html":"<p><code class=\"language-text\">jq</code> コマンドを使って json 内部特定のフィールドを操作します。</p>\n<div class=\"toc\">\n<ul>\n<li><a href=\"#%E6%8A%BD%E5%87%BApick%E3%83%BB%E5%89%8A%E9%99%A4omit\">抽出(pick)・削除(omit)</a></li>\n<li><a href=\"#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E5%85%A5%E5%87%BA%E5%8A%9B\">ファイル入出力</a></li>\n<li><a href=\"#%E9%85%8D%E5%88%97%E3%81%AE%E5%90%84%E8%A6%81%E7%B4%A0%E3%82%92%E6%93%8D%E4%BD%9C\">配列の各要素を操作</a></li>\n</ul>\n</div>\n<p><code class=\"language-text\">jq &#39;del(.フィールド1,.フィールド2)&#39;</code> で行えます。</p>\n<h3 id=\"抽出pick・削除omit\">抽出(pick)・削除(omit)</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token comment\"># aを抽出</span>\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'{ \"a\": 10, \"b\": 20, \"c\": 30 }'</span> <span class=\"token operator\">|</span>jq <span class=\"token string\">'{a}'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>\n<span class=\"token punctuation\">}</span>\n$ <span class=\"token comment\"># a,bを抽出</span>\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'{ \"a\": 10, \"b\": 20, \"c\": 30 }'</span> <span class=\"token operator\">|</span>jq <span class=\"token string\">'{a,b}'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>,\n  <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">20</span>\n<span class=\"token punctuation\">}</span>\n\n$ <span class=\"token comment\"># cを削除</span>\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'{ \"a\": 10, \"b\": 20, \"c\": 30 }'</span> <span class=\"token operator\">|</span>jq <span class=\"token string\">'del(.c)'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>,\n  <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">20</span>\n<span class=\"token punctuation\">}</span>\n\n$ <span class=\"token comment\"># b,cを削除</span>\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'{ \"a\": 10, \"b\": 20, \"c\": 30 }'</span> <span class=\"token operator\">|</span>jq <span class=\"token string\">'del(.c,.b)'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"ファイル入出力\">ファイル入出力</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> abc.json\n<span class=\"token punctuation\">{</span> <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>, <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">20</span>, <span class=\"token string\">\"c\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">30</span> <span class=\"token punctuation\">}</span>\n\n$ <span class=\"token function\">cat</span> abc.json <span class=\"token operator\">|</span>jq <span class=\"token string\">'del(.c)'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>,\n  <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">20</span>\n<span class=\"token punctuation\">}</span>\n\n$ <span class=\"token function\">cat</span> abc.json <span class=\"token operator\">|</span>jq <span class=\"token string\">'del(.c)'</span> <span class=\"token operator\">></span> ab.json <span class=\"token comment\"># ファイル出力</span>\n$ <span class=\"token function\">cat</span> ab.json\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">10</span>,\n  <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">20</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"配列の各要素を操作\">配列の各要素を操作</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'[{ \"a\": 1, \"b\": 2, \"c\": 3 },{ \"a\": 11, \"b\": 12, \"c\": 13}]'</span> <span class=\"token operator\">|</span>jq <span class=\"token string\">'.[]|{a}'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">11</span>\n<span class=\"token punctuation\">}</span>\n\n <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'[{ \"a\": 1, \"b\": 2, \"c\": 3 },{ \"a\": 11, \"b\": 12, \"c\": 13}]'</span> <span class=\"token operator\">|</span>jq <span class=\"token string\">'.[]|del(.c)'</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">1</span>,\n  <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">2</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"a\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">11</span>,\n  <span class=\"token string\">\"b\"</span><span class=\"token builtin class-name\">:</span> <span class=\"token number\">12</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"jq コマンドで json の特定のフィールドを削る・抽出する","date":"2021-01-15","tags":["json","jq","ShellScript"]}}},"pageContext":{"slug":"json-omit","previous":{"excerpt":"vim で mouse を off にする iTerm2 の設定","fields":{"slug":"ssh-vim-copy"},"frontmatter":{"title":"ssh 接続先の vim でマウスの選択範囲をコピーする"}},"next":null}},"staticQueryHashes":["1855083372","2529228376","3070792728"]}